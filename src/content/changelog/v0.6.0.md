---
version: "0.6.0"
date: 2025-11-15
title: "Phase 1 Iterators and Generators"
description: "Generators with yield, for-in loops, Generator type, and comprehensive type system enhancements"
breaking: false
status: "Released"
highlights:
  - "Generators with yield"
  - "For-in loops"
  - "Generator as Static Type"
  - "Array Transformation Functions"
  - "CI/CD Infrastructure"
---

## Major Features

### Phase 1 Iterators Complete

- Generators with `yield` and `generate` blocks
- For-in loops with iterator protocol
- Generator state preservation across yields
- `return` statement in generators (sticky done)
- Environment capture in generators

**Generator Example**
```javascript
let counter = generate {
    mut i = 0;
    while (i < 10) {
        yield i;
        i = i + 1
    }
}
```

### Generator as Static Type

- Added `Generator` as opaque type in the type system
- Variable annotations: `let gen: Generator`
- Function signatures: `(Generator) => Vector`
- Union types: `Generator | null`
- Record fields: `{ source: Generator }`
- Type aliases: `type LazySequence = Generator`
- Runtime type checking: `typeof(gen)` returns "Generator"

### Tier 3 Array Transformation Functions

- `zip(array1, array2)` - Combine two arrays into pairs
- `flatten(array, depth?)` - Flatten nested arrays/tensors
- `take(array, n)` - Take first n elements
- `drop(array, n)` - Skip first n elements
- `slice(array, start, end?)` - Extract subarray
- `unique(array)` - Remove duplicates
- `chunk(array, size)` - Split into groups

### CI/CD Infrastructure

- GitHub Actions CI workflow (tests on Linux, Windows, macOS)
- GitHub Actions Release workflow (automatic binary builds)
- Cross-platform releases with checksums

### CLI Enhancements

- Command-line argument parsing with clap
- `--version`, `--help` flags
- `--eval` for direct expression evaluation
- Subcommands: `repl`, `run`, `eval`, `check`
- Syntax checking without execution

### Advanced Type System

- Function types with arrow syntax: `(Number, Number) => Number`
- Edge type for graph programming: `let e: Edge = A -> B`
- Type aliases: `type Point = { x: Number, y: Number }`
- Union types: `Number | String | null`
- Type inference from annotations to lambda parameters

### Control Flow Enhancements

- if-else statements with multi-statement blocks
- else-if chains
- return statement for early exit
- Guard clauses pattern support

### Module System

- `import` and `export` statements
- Built-in modules: `stats`, `math`, `linalg`
- User-defined modules
- Module resolution with relative paths

### Mutability System

- `mut` keyword for mutable variables
- Mutable record fields
- Stateful objects with `self`

### Environment I/O

- `save_env()` - Save REPL environment
- `restore_env()` - Load environment
- `env_info()` - Inspect `.ach` files

### Graph Theory & PERT/CPM

- Graph algorithms: BFS, DFS, Dijkstra, Kruskal, Prim
- Critical path analysis
- Probabilistic PERT calculations

### Test Suite Stabilization

- Fixed 27 obsolete tests (TCO, utility functions, type annotations)
- All 700+ tests passing
- Codebase refactoring (all files under 500 lines)
